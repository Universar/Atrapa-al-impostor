<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atrapa al Impostor</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            padding: 20px;
            padding-bottom: 120px; /* Espacio para los botones flotantes */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .setup-section {
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .input-group {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        label {
            font-size: 1.1rem;
        }

        input {
            padding: 10px 15px;
            border-radius: 5px;
            border: none;
            font-size: 1rem;
            width: 80px;
            text-align: center;
        }

        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        button:hover {
            background-color: #45a049;
        }

        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        .timer-section {
            text-align: center;
            margin-bottom: 30px;
        }

        #timer {
            font-size: 3rem;
            font-weight: bold;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 15px 30px;
            border-radius: 10px;
            display: inline-block;
            margin-bottom: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .players-section {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .player-card {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .player-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        .player-number {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .player-word {
            font-size: 1.2rem;
            margin-bottom: 15px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card {
            width: 100%;
            height: 150px;
            perspective: 1000px;
            margin: 0 auto 15px;
            cursor: pointer;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .card-front {
            background-color: #1a2a6c;
            color: white;
            font-size: 1.5rem;
        }

        .card-back {
            background-color: white;
            color: #333;
            transform: rotateY(180deg);
            font-size: 1.2rem;
            padding: 10px;
        }

        /* BOTONES FLOTANTES - NUEVO ESTILO */
        .floating-controls {
            position: fixed;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            z-index: 1000;
            border-top: 2px solid rgba(255, 255, 255, 0.2);
        }

        .floating-controls button {
            padding: 15px 30px;
            font-size: 1.1rem;
            min-width: 180px;
        }

        #nextTurn {
            background-color: #2196F3;
        }

        #nextTurn:hover {
            background-color: #1976D2;
        }

        #endGame {
            background-color: #f44336;
        }

        #endGame:hover {
            background-color: #d32f2f;
        }

        .hidden {
            display: none;
        }

        .current-turn {
            border: 3px solid #ffc107;
            box-shadow: 0 0 15px #ffc107;
        }

        .turn-indicator {
            text-align: center;
            font-size: 1.5rem;
            margin-bottom: 20px;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 10px;
        }

        .impostor-message {
            color: #ff6b6b;
            font-weight: bold;
            font-size: 1.3rem;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .players-section {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            h1 {
                font-size: 2rem;
            }
            
            #timer {
                font-size: 2.5rem;
            }
            
            .floating-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .floating-controls button {
                width: 90%;
                max-width: 300px;
            }
            
            body {
                padding-bottom: 180px; /* Más espacio para botones en móvil */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Atrapa al Impostor</h1>
            <p class="subtitle">Descubre quién tiene la palabra diferente</p>
        </header>

        <section class="setup-section">
            <div class="input-group">
                <label for="playerCount">Número de jugadores:</label>
                <input type="number" id="playerCount" min="3" max="10" value="4">
                <button id="startGame">Comenzar Juego</button>
            </div>
        </section>

        <div class="turn-indicator hidden" id="turnIndicator">Turno del Jugador: <span id="currentPlayerNumber">1</span></div>

        <section class="timer-section hidden" id="timerSection">
            <div id="timer">03:00</div>
            <div class="timer-controls">
                <button id="startTimer">Iniciar Cronómetro</button>
                <button id="resetTimer">Reiniciar Cronómetro</button>
            </div>
        </section>

        <section class="players-section" id="playersSection"></section>

        <!-- BOTONES FLOTANTES - NUEVA POSICIÓN -->
        <div class="floating-controls hidden" id="floatingControls">
            <button id="nextTurn">Siguiente Turno</button>
            <button id="endGame">Terminar Juego</button>
        </div>
    </div>

    <script>
        // Lista de 100 palabras con sus palabras relacionadas para el impostor
        const wordPairs = [
   { normal: "Manzana", impostor: "Fruta" },
            { normal: "Coche", impostor: "Vehículo" },
            { normal: "Perro", impostor: "Animal" },
            { normal: "Libro", impostor: "Lectura" },
            { normal: "Agua", impostor: "Líquido" },
            { normal: "Fuego", impostor: "Elemento" },
            { normal: "Casa", impostor: "Hogar" },
            { normal: "Escuela", impostor: "Educación" },
            { normal: "Médico", impostor: "Profesión" },
            { normal: "Montaña", impostor: "Naturaleza" },
            { normal: "Mar", impostor: "Océano" },
            { normal: "Sol", impostor: "Estrella" },
            { normal: "Luna", impostor: "Satélite" },
            { normal: "Árbol", impostor: "Planta" },
            { normal: "Flor", impostor: "Pétalo" },
            { normal: "Pájaro", impostor: "Ave" },
            { normal: "Pez", impostor: "Animal acuático" },
            { normal: "Gato", impostor: "Felino" },
            { normal: "León", impostor: "Animal salvaje" },
            { normal: "Elefante", impostor: "Mamífero" },
            { normal: "Tigre", impostor: "Depredador" },
            { normal: "Serpiente", impostor: "Reptil" },
            { normal: "Araña", impostor: "Arácnido" },
            { normal: "Mariposa", impostor: "Insecto" },
            { normal: "Abeja", impostor: "Polinizador" },
            { normal: "Hormiga", impostor: "Insecto social" },
            { normal: "Ballena", impostor: "Cetáceo" },
            { normal: "Delfín", impostor: "Mamífero marino" },
            { normal: "Tiburón", impostor: "Escualo" },
            { normal: "Pulpo", impostor: "Cefalópodo" },
            { normal: "Estrella", impostor: "Astro" },
            { normal: "Planeta", impostor: "Cuerpo celeste" },
            { normal: "Galaxia", impostor: "Universo" },
            { normal: "Cometa", impostor: "Asteroide" },
            { normal: "Meteorito", impostor: "Roca espacial" },
            { normal: "Nube", impostor: "Vapor" },
            { normal: "Lluvia", impostor: "Precipitación" },
            { normal: "Nieve", impostor: "Cristal de hielo" },
            { normal: "Viento", impostor: "Aire" },
            { normal: "Tormenta", impostor: "Tempestad" },
            { normal: "Terremoto", impostor: "Sismo" },
            { normal: "Volcán", impostor: "Erupción" },
            { normal: "Río", impostor: "Corriente" },
            { normal: "Lago", impostor: "Estanque" },
            { normal: "Cascada", impostor: "Caída de agua" },
            { normal: "Desierto", impostor: "Arido" },
            { normal: "Bosque", impostor: "Arboleda" },
            { normal: "Jungla", impostor: "Selva" },
            { normal: "Pradera", impostor: "Prado" },
            { normal: "Isla", impostor: "Tierra rodeada de agua" },
            { normal: "Continente", impostor: "Masa terrestre" },
            { normal: "País", impostor: "Nación" },
            { normal: "Ciudad", impostor: "Urbe" },
            { normal: "Pueblo", impostor: "Aldea" },
            { normal: "Calle", impostor: "Vía" },
            { normal: "Avenida", impostor: "Bulevar" },
            { normal: "Plaza", impostor: "Square" },
            { normal: "Parque", impostor: "Jardín" },
            { normal: "Edificio", impostor: "Construcción" },
            { normal: "Rascacielos", impostor: "Torre" },
            { normal: "Puente", impostor: "Viaducto" },
            { normal: "Túnel", impostor: "Pasaje subterráneo" },
            { normal: "Carretera", impostor: "Autopista" },
            { normal: "Ferrocarril", impostor: "Tren" },
            { normal: "Avión", impostor: "Aeronave" },
            { normal: "Barco", impostor: "Embarcación" },
            { normal: "Bicicleta", impostor: "Ciclo" },
            { normal: "Motocicleta", impostor: "Moto" },
            { normal: "Camión", impostor: "Vehículo pesado" },
            { normal: "Autobús", impostor: "Ómnibus" },
            { normal: "Taxi", impostor: "Cab" },
            { normal: "Ambulancia", impostor: "Vehículo de emergencia" },
            { normal: "Bombero", impostor: "Extintor" },
            { normal: "Policía", impostor: "Agente" },
            { normal: "Soldado", impostor: "Militar" },
            { normal: "Profesor", impostor: "Maestro" },
            { normal: "Estudiante", impostor: "Alumno" },
            { normal: "Cocinero", impostor: "Chef" },
            { normal: "Panadero", impostor: "Repostero" },
            { normal: "Carpintero", impostor: "Ebanista" },
            { normal: "Fontanero", impostor: "Plomero" },
            { normal: "Electricista", impostor: "Técnico" },
            { normal: "Pintor", impostor: "Artista" },
            { normal: "Escultor", impostor: "Tallista" },
            { normal: "Músico", impostor: "Instrumentista" },
            { normal: "Cantante", impostor: "Vocalista" },
            { normal: "Bailarín", impostor: "Dançarín" },
            { normal: "Actor", impostor: "Intérprete" },
            { normal: "Director", impostor: "Realizador" },
            { normal: "Escritor", impostor: "Autor" },
            { normal: "Poeta", impostor: "Versificador" },
            { normal: "Pintura", impostor: "Cuadro" },
            { normal: "Escultura", impostor: "Estatuilla" },
            { normal: "Música", impostor: "Melodía" },
            { normal: "Película", impostor: "Cine" },
            { normal: "Teatro", impostor: "Drama" },
            { normal: "Ópera", impostor: "Canto lírico" },
            { normal: "Ballet", impostor: "Danza clásica" },
            { normal: "Deporte", impostor: "Ejercicio" },
            { normal: "Fútbol", impostor: "Balompié" },
            { normal: "Baloncesto", impostor: "Básquet" },
            { normal: "Computadora", impostor: "Tecnología" },
            { normal: "Teléfono", impostor: "Comunicación" },
            { normal: "Televisor", impostor: "Entretenimiento" },
            { normal: "Refrigerador", impostor: "Electrodoméstico" },
            { normal: "Microondas", impostor: "Calentador" },
            { normal: "Ventilador", impostor: "Aire" },
            { normal: "Aspiradora", impostor: "Limpieza" },
            { normal: "Licuadora", impostor: "Mezclador" },
            { normal: "Tostadora", impostor: "Tostador" },
            { normal: "Cafetera", impostor: "Bebida caliente" },
            { normal: "Sartén", impostor: "Utensilio de cocina" },
            { normal: "Cuchillo", impostor: "Cortador" },
            { normal: "Tenedor", impostor: "Pincho" },
            { normal: "Cuchara", impostor: "Recogedor" },
            { normal: "Plato", impostor: "Recipiente" },
            { normal: "Vaso", impostor: "Contenedor" },
            { normal: "Taza", impostor: "Recipiente para líquidos" },
            { normal: "Botella", impostor: "Envase" },
            { normal: "Jarra", impostor: "Vertedor" },
            { normal: "Olla", impostor: "Cacerola" },
            { normal: "Cama", impostor: "Mueble para dormir" },
            { normal: "Almohada", impostor: "Apoyo para la cabeza" },
            { normal: "Manta", impostor: "Cubierta" },
            { normal: "Sábana", impostor: "Tela de cama" },
            { normal: "Colchón", impostor: "Base para dormir" },
            { normal: "Sillón", impostor: "Asiento cómodo" },
            { normal: "Mesa", impostor: "Superficie plana" },
            { normal: "Silla", impostor: "Asiento" },
            { normal: "Armario", impostor: "Guardarropa" },
            { normal: "Escritorio", impostor: "Mesa de trabajo" },
            { normal: "Estante", impostor: "Repisa" },
            { normal: "Espejo", impostor: "Reflejo" },
            { normal: "Cuadro", impostor: "Pintura enmarcada" },
            { normal: "Lámpara", impostor: "Iluminación" },
            { normal: "Velador", impostor: "Luz nocturna" },
            { normal: "Cortina", impostor: "Tela colgante" },
            { normal: "Alfombra", impostor: "Cubrepiso" },
            { normal: "Reloj", impostor: "Medidor de tiempo" },
            { normal: "Calendario", impostor: "Organizador de fechas" },
            { normal: "Libreta", impostor: "Anotador" },
            { normal: "Lápiz", impostor: "Escritura" },
            { normal: "Bolígrafo", impostor: "Pluma" },
            { normal: "Marcador", impostor: "Resaltador" },
            { normal: "Goma", impostor: "Borrador" },
            { normal: "Tijeras", impostor: "Cortador" },
            { normal: "Pegamento", impostor: "Adhesivo" },
            { normal: "Cinta", impostor: "Adhesivo en rollo" },
            { normal: "Clip", impostor: "Sujetador" },
            { normal: "Grapadora", impostor: "Unidor" },
            { normal: "Periódico", impostor: "Medio de comunicación" },
            { normal: "Revista", impostor: "Publicación periódica" },
            { normal: "Cómic", impostor: "Historieta" },
            { normal: "Novela", impostor: "Historia larga" },
            { normal: "Cuento", impostor: "Historia corta" },
            { normal: "Poesía", impostor: "Versos" },
            { normal: "Diccionario", impostor: "Compendio de palabras" },
            { normal: "Enciclopedia", impostor: "Conocimiento general" },
            { normal: "Atlas", impostor: "Mapas" },
            { normal: "Globo", impostor: "Esfera terrestre" },
            { normal: "Mapa", impostor: "Representación geográfica" },
            { normal: "Brújula", impostor: "Orientación" },
            { normal: "Telescopio", impostor: "Visor lejano" },
            { normal: "Microscopio", impostor: "Ampliador" },
            { normal: "Termómetro", impostor: "Medidor de temperatura" },
            { normal: "Barómetro", impostor: "Medidor de presión" },
            { normal: "Báscula", impostor: "Pesador" },
            { normal: "Cámara", impostor: "Capturador de imágenes" },
            { normal: "Binoculares", impostor: "Visor doble" },
            { normal: "Paraguas", impostor: "Protector de lluvia" },
            { normal: "Sombrilla", impostor: "Protector de sol" },
            { normal: "Abrigo", impostor: "Prenda de invierno" },
            { normal: "Chaqueta", impostor: "Prenda ligera" },
            { normal: "Suéter", impostor: "Tejido cálido" },
            { normal: "Bufanda", impostor: "Protector de cuello" },
            { normal: "Guantes", impostor: "Protector de manos" },
            { normal: "Gorra", impostor: "Protector de cabeza" },
            { normal: "Sombrero", impostor: "Cubrecabeza" },
            { normal: "Zapatos", impostor: "Calzado" },
            { normal: "Botas", impostor: "Calzado alto" },
            { normal: "Sandalias", impostor: "Calzado abierto" },
            { normal: "Tacones", impostor: "Calzado elevado" },
            { normal: "Deportivos", impostor: "Calzado cómodo" },
            { normal: "Camisa", impostor: "Prenda superior" },
            { normal: "Pantalón", impostor: "Prenda inferior" },
            { normal: "Vestido", impostor: "Prenda femenina" },
            { normal: "Falda", impostor: "Prenda sin piernas" },
            { normal: "Corbata", impostor: "Accesorio de cuello" },
            { normal: "Cinturón", impostor: "Sujetador de pantalón" },
            { normal: "Bolso", impostor: "Contenedor personal" },
            { normal: "Mochila", impostor: "Transportador" },
            { normal: "Cartera", impostor: "Portador de dinero" },
            { normal: "Maleta", impostor: "Equipaje" },
            { normal: "Gimnasio", impostor: "Lugar de ejercicio" },
            { normal: "Estadio", impostor: "Recinto deportivo" },
            { normal: "Museo", impostor: "Lugar de exposición" },
            { normal: "Biblioteca", impostor: "Lugar de lectura" },
            { normal: "Cine", impostor: "Sala de proyección" },
            // 100 NUEVAS PALABRAS CONOCIDAS
            { normal: "Familia", impostor: "Parentesco" },
            { normal: "Amigo", impostor: "Compañía" },
            { normal: "Amor", impostor: "Sentimiento" },
            { normal: "Trabajo", impostor: "Ocupación" },
            { normal: "Dinero", impostor: "Moneda" },
            { normal: "Tiempo", impostor: "Duración" },
            { normal: "Viaje", impostor: "Desplazamiento" },
            { normal: "Comida", impostor: "Alimento" },
            { normal: "Bebida", impostor: "Líquido para tomar" },
            { normal: "Juego", impostor: "Entretenimiento" },
            { normal: "Música", impostor: "Sonido organizado" },
            { normal: "Arte", impostor: "Expresión creativa" },
            { normal: "Color", impostor: "Tono" },
            { normal: "Número", impostor: "Cifra" },
            { normal: "Letra", impostor: "Carácter alfabético" },
            { normal: "Palabra", impostor: "Término" },
            { normal: "Frase", impostor: "Expresión" },
            { normal: "Texto", impostor: "Escrito" },
            { normal: "Historia", impostor: "Relato" },
            { normal: "Cultura", impostor: "Tradición" },
            { normal: "Idioma", impostor: "Lengua" },
            { normal: "País", impostor: "Territorio" },
            { normal: "Ciudad", impostor: "Población" },
            { normal: "Calle", impostor: "Vía pública" },
            { normal: "Plaza", impostor: "Espacio abierto" },
            { normal: "Mercado", impostor: "Lugar de compras" },
            { normal: "Tienda", impostor: "Establecimiento" },
            { normal: "Supermercado", impostor: "Almacén" },
            { normal: "Restaurante", impostor: "Lugar para comer" },
            { normal: "Hotel", impostor: "Alojamiento" },
            { normal: "Hospital", impostor: "Centro de salud" },
            { normal: "Farmacia", impostor: "Dispensario" },
            { normal: "Banco", impostor: "Entidad financiera" },
            { normal: "Oficina", impostor: "Lugar de trabajo" },
            { normal: "Fábrica", impostor: "Planta industrial" },
            { normal: "Granja", impostor: "Explotación agrícola" },
            { normal: "Campo", impostor: "Zona rural" },
            { normal: "Jardín", impostor: "Espacio verde" },
            { normal: "Parque", impostor: "Área recreativa" },
            { normal: "Playa", impostor: "Costa" },
            { normal: "Piscina", impostor: "Estanque artificial" },
            { normal: "Río", impostor: "Corriente de agua" },
            { normal: "Mar", impostor: "Océano" },
            { normal: "Montaña", impostor: "Elevación terrestre" },
            { normal: "Valle", impostor: "Depresión" },
            { normal: "Cueva", impostor: "Caverna" },
            { normal: "Puente", impostor: "Estructura de paso" },
            { normal: "Carretera", impostor: "Vía" },
            { normal: "Autopista", impostor: "Vía rápida" },
            { normal: "Estación", impostor: "Parada" },
            { normal: "Aeropuerto", impostor: "Terminal aérea" },
            { normal: "Puerto", impostor: "Instalación marítima" },
            { normal: "Coche", impostor: "Automóvil" },
            { normal: "Moto", impostor: "Motocicleta" },
            { normal: "Bici", impostor: "Bicicleta" },
            { normal: "Autobús", impostor: "Ómnibus" },
            { normal: "Tren", impostor: "Ferrocarril" },
            { normal: "Barco", impostor: "Embarcación" },
            { normal: "Avión", impostor: "Aeronave" },
            { normal: "Helicóptero", impostor: "Aeronave de alas rotatorias" },
            { normal: "Cohete", impostor: "Nave espacial" },
            { normal: "Satélite", impostor: "Cuerpo en órbita" },
            { normal: "Planeta", impostor: "Cuerpo celeste" },
            { normal: "Estrella", impostor: "Astro" },
            { normal: "Galaxia", impostor: "Conjunto estelar" },
            { normal: "Universo", impostor: "Cosmos" },
            { normal: "Tierra", impostor: "Planeta" },
            { normal: "Sol", impostor: "Estrella" },
            { normal: "Luna", impostor: "Satélite natural" },
            { normal: "Eclipse", impostor: "Ocultación" },
            { normal: "Clima", impostor: "Tiempo atmosférico" },
            { normal: "Temperatura", impostor: "Grado de calor" },
            { normal: "Calor", impostor: "Temperatura alta" },
            { normal: "Frío", impostor: "Temperatura baja" },
            { normal: "Viento", impostor: "Corriente de aire" },
            { normal: "Lluvia", impostor: "Precipitación" },
            { normal: "Nieve", impostor: "Precipitación congelada" },
            { normal: "Granizo", impostor: "Precipitación de hielo" },
            { normal: "Tormenta", impostor: "Perturbación atmosférica" },
            { normal: "Rayo", impostor: "Descarga eléctrica" },
            { normal: "Trueno", impostor: "Sonido del rayo" },
            { normal: "Arcoíris", impostor: "Fenómeno óptico" },
            { normal: "Nube", impostor: "Masa de vapor" },
            { normal: "Niebla", impostor: "Bruma" },
            { normal: "Rocío", impostor: "Condensación" },
            { normal: "Humedad", impostor: "Contenido de agua" },
            { normal: "Sequía", impostor: "Falta de lluvia" },
            { normal: "Inundación", impostor: "Desbordamiento" },
            { normal: "Terremoto", impostor: "Movimiento sísmico" },
            { normal: "Volcán", impostor: "Montaña eruptiva" },
            { normal: "Tsunami", impostor: "Ola gigante" },
            { normal: "Huracán", impostor: "Ciclón tropical" },
            { normal: "Tornado", impostor: "Torbellino" },
            { normal: "Incendio", impostor: "Fuego destructivo" },
            { normal: "Accidente", impostor: "Suceso fortuito" },
            { normal: "Emergencia", impostor: "Situación crítica" },
            { normal: "Peligro", impostor: "Riesgo" },
            { normal: "Seguridad", impostor: "Protección" },
            { normal: "Salud", impostor: "Bienestar" },
            { normal: "Enfermedad", impostor: "Dolencia" },
            { normal: "Medicina", impostor: "Remedio" },
            { normal: "Vacuna", impostor: "Inmunización" },
            { normal: "Operación", impostor: "Intervención" },
            { normal: "Receta", impostor: "Prescripción" }
        ];

        // Variables del juego
        let players = [];
        let currentTurn = 0;
        let timerInterval;
        let timeLeft = 180; // 3 minutos en segundos
        let gameStarted = false;
        let impostorMessageShown = false;

        // Elementos del DOM
        const playerCountInput = document.getElementById('playerCount');
        const startGameButton = document.getElementById('startGame');
        const timerSection = document.getElementById('timerSection');
        const timerDisplay = document.getElementById('timer');
        const startTimerButton = document.getElementById('startTimer');
        const resetTimerButton = document.getElementById('resetTimer');
        const playersSection = document.getElementById('playersSection');
        const floatingControls = document.getElementById('floatingControls');
        const nextTurnButton = document.getElementById('nextTurn');
        const endGameButton = document.getElementById('endGame');
        const turnIndicator = document.getElementById('turnIndicator');
        const currentPlayerNumber = document.getElementById('currentPlayerNumber');

        // Iniciar juego
        startGameButton.addEventListener('click', startGame);

        function startGame() {
            const playerCount = parseInt(playerCountInput.value);
            
            if (playerCount < 3) {
                alert('El juego necesita al menos 3 jugadores');
                return;
            }
            
            // Ocultar sección de configuración
            document.querySelector('.setup-section').classList.add('hidden');
            
            // Mostrar secciones del juego
            timerSection.classList.remove('hidden');
            floatingControls.classList.remove('hidden');
            turnIndicator.classList.remove('hidden');
            
            // Crear jugadores
            players = [];
            for (let i = 1; i <= playerCount; i++) {
                players.push({
                    id: i,
                    isImpostor: false,
                    word: '',
                    cardFlipped: false,
                    impostorMessageShown: false
                });
            }
            
            // Seleccionar impostor aleatorio
            const impostorIndex = Math.floor(Math.random() * playerCount);
            players[impostorIndex].isImpostor = true;
            
            // Seleccionar par de palabras aleatorio
            const wordPairIndex = Math.floor(Math.random() * wordPairs.length);
            const selectedWordPair = wordPairs[wordPairIndex];
            
            // Asignar palabras
            players.forEach(player => {
                player.word = player.isImpostor ? selectedWordPair.impostor : selectedWordPair.normal;
            });
            
            // Renderizar jugadores
            renderPlayers();
            
            // Establecer primer turno
            currentTurn = 0;
            updateTurnIndicator();
            
            gameStarted = true;
            impostorMessageShown = false;
        }

        // Renderizar jugadores en la interfaz
        function renderPlayers() {
            playersSection.innerHTML = '';
            
            players.forEach((player, index) => {
                const playerCard = document.createElement('div');
                playerCard.className = `player-card`;
                playerCard.id = `player-${player.id}`;
                
                playerCard.innerHTML = `
                    <div class="player-number">Jugador ${player.id}</div>
                    <div class="card" data-player-id="${player.id}">
                        <div class="card-inner">
                            <div class="card-front">?</div>
                            <div class="card-back">${player.word}</div>
                        </div>
                    </div>
                    <div class="player-word">Palabra oculta</div>
                `;
                
                playersSection.appendChild(playerCard);
                
                // Agregar evento para voltear carta
                const cardElement = playerCard.querySelector('.card');
                cardElement.addEventListener('click', () => flipCard(player.id));
            });
        }

        // Voltear carta de un jugador
        function flipCard(playerId) {
            if (!gameStarted) return;
            
            const playerIndex = players.findIndex(p => p.id === playerId);
            
            // Solo permitir voltear la carta del jugador en turno
            if (playerIndex !== currentTurn) {
                alert('No es tu turno');
                return;
            }
            
            const playerCard = document.getElementById(`player-${playerId}`);
            const cardElement = playerCard.querySelector('.card');
            const wordElement = playerCard.querySelector('.player-word');
            
            // Voltear carta
            cardElement.classList.add('flipped');
            
            // Si es el impostor, mostrar mensaje especial
            if (players[playerIndex].isImpostor && !players[playerIndex].impostorMessageShown) {
                wordElement.innerHTML = `${players[playerIndex].word}<div class="impostor-message">¡Eres el impostor!</div>`;
                players[playerIndex].impostorMessageShown = true;
            } else {
                wordElement.textContent = players[playerIndex].word;
            }
            
            players[playerIndex].cardFlipped = true;
        }

        // Siguiente turno
        nextTurnButton.addEventListener('click', nextTurn);

        function nextTurn() {
            if (!gameStarted) return;
            
            // Ocultar todas las cartas al cambiar de turno
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('flipped');
            });
            
            document.querySelectorAll('.player-word').forEach(wordElement => {
                wordElement.textContent = 'Palabra oculta';
                wordElement.innerHTML = 'Palabra oculta'; // Limpiar también el HTML
            });
            
            // Reiniciar estado de cartas volteadas
            players.forEach(player => {
                player.cardFlipped = false;
            });
            
            // Avanzar al siguiente jugador
            currentTurn = (currentTurn + 1) % players.length;
            updateTurnIndicator();
        }

        // Actualizar indicador de turno
        function updateTurnIndicator() {
            // Remover indicador de todos los jugadores
            document.querySelectorAll('.player-card').forEach(card => {
                card.classList.remove('current-turn');
            });
            
            // Agregar indicador al jugador actual
            const currentPlayerCard = document.getElementById(`player-${players[currentTurn].id}`);
            if (currentPlayerCard) {
                currentPlayerCard.classList.add('current-turn');
            }
            
            // Actualizar texto del indicador de turno
            currentPlayerNumber.textContent = players[currentTurn].id;
        }

        // Terminar juego
        endGameButton.addEventListener('click', endGame);

        function endGame() {
            gameStarted = false;
            clearInterval(timerInterval);
            
            // Revelar todas las cartas
            document.querySelectorAll('.card').forEach(card => {
                card.classList.add('flipped');
            });
            
            // Mostrar todas las palabras
            document.querySelectorAll('.player-word').forEach((wordElement, index) => {
                if (players[index].isImpostor) {
                    wordElement.innerHTML = `${players[index].word}<div class="impostor-message">¡Era el impostor!</div>`;
                } else {
                    wordElement.textContent = players[index].word;
                }
            });
            
            // Mostrar quién era el impostor
            const impostor = players.find(p => p.isImpostor);
            alert(`¡Juego terminado! El impostor era el Jugador ${impostor.id}`);
            
            // Mostrar botón para reiniciar
            document.querySelector('.setup-section').classList.remove('hidden');
            timerSection.classList.add('hidden');
            floatingControls.classList.add('hidden');
            turnIndicator.classList.add('hidden');
        }

        // Control del cronómetro
        startTimerButton.addEventListener('click', startTimer);
        resetTimerButton.addEventListener('click', resetTimer);

        function startTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert('¡Tiempo agotado!');
                    endGame();
                }
            }, 1000);
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timeLeft = 180;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Inicializar el cronómetro
        updateTimerDisplay();
    </script>
</body>
</html>
